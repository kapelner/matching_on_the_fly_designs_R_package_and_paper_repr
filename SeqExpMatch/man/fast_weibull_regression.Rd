% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/glm_fit_helpers.R
\name{fast_weibull_regression}
\alias{fast_weibull_regression}
\title{Weibull Regression using survival package internals (fast, coefficients only)}
\usage{
fast_weibull_regression(y, dead, X)
}
\arguments{
\item{y}{Survival times.}

\item{dead}{Event indicator (1 = event, 0 = censored).}

\item{X}{A numeric matrix of predictor variables. It is assumed that an intercept column
(e.g., a column of ones) is already included in \code{X} if desired.}
}
\value{
A list containing the following components:
\describe{
\item{coefficients}{A numeric vector of the estimated Weibull regression coefficients, including the intercept.}
\item{log_sigma}{The logarithm of the scale parameter from the Weibull distribution.}
\item{vcov}{The variance-covariance matrix of the estimated coefficients.}
}
}
\description{
This function performs Weibull regression using survival::survreg.fit for speed.
}
\examples{
\dontrun{
# Generate some sample survival data
set.seed(123)
n <- 100
X_weibull <- matrix(rnorm(n), ncol = 1) # One predictor without intercept
true_beta <- 0.5
true_scale <- 1
linear_predictor <- 1 + X_weibull \%*\% true_beta # Intercept + predictor
time_true <- exp(linear_predictor + rweibull(n, shape = 1/true_scale, scale = 1))
censor_time <- rexp(n, rate = 0.1)
y_weibull <- pmin(time_true, censor_time)
dead_weibull <- as.numeric(time_true <= censor_time)

# Fit Weibull regression using fast_weibull_regression
fit_weibull <- fast_weibull_regression(y = y_weibull, dead = dead_weibull, X = X_weibull)
print(fit_weibull$coefficients)
print(fit_weibull$log_sigma)

# Compare with standard R survreg
library(survival)
surv_obj <- Surv(y_weibull, dead_weibull)
df_weibull <- data.frame(time = y_weibull, status = dead_weibull, X = X_weibull)
survreg_fit <- survreg(surv_obj ~ X, data = df_weibull, dist = "weibull")
print(coef(survreg_fit))
print(log(survreg_fit$scale))
}
}
